(()=>{const e=e=>{document.getElementById("errorMessage").textContent=e,document.getElementById("domoMessage").classList.remove("hidden")},t=async(t,s)=>{const o=await fetch(t,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(s)}),n=await o.json();document.getElementById("domoMessage").classList.add("hidden"),n.redirect&&(window.location=n.redirect),n.error&&e(n.error)};window.onload=()=>{const s=document.getElementById("signupForm"),o=document.getElementById("loginForm"),n=document.getElementById("domoForm"),r=document.getElementById("domoMessage");s&&s.addEventListener("submit",(o=>{o.preventDefault(),r.classList.add("hidden");const n=s.querySelector("#user").value,a=s.querySelector("#pass").value,d=s.querySelector("#pass2").value;return n&&a&&d?a!==d?(e("Passwords do not match!"),!1):(t(s.getAttribute("action"),{username:n,pass:a,pass2:d}),!1):(e("All fields are required!"),!1)})),o&&o.addEventListener("submit",(s=>{s.preventDefault(),r.classList.add("hidden");const n=o.querySelector("#user").value,a=o.querySelector("#pass").value;return n&&a?(t(o.getAttribute("action"),{username:n,pass:a}),!1):(e("Username or password is empty!"),!1)})),n&&n.addEventListener("submit",(s=>{s.preventDefault(),console.log("submit callback entered"),r.classList.add("hidden");const o=n.querySelector("#domoName").value,a=n.querySelector("#domoAge").value;return console.log(a),console.log(isNaN(a)),o&&a?isNaN(a)?(console.log("NAN"),e("Age must be a number!"),!1):(t(n.getAttribute("action"),{name:o,age:a}),!1):(e("All fields are required!"),!1)}))}})();